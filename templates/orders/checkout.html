{% extends "shop/base.html" %}
{% block title %}–§–∏–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞{% endblock %}

{% block content %}
<div class="checkout-container">
    <h2>–§–∏–Ω–∞–ª–∏–∑–∏—Ä–∞–Ω–µ –Ω–∞ –ø–æ—Ä—ä—á–∫–∞—Ç–∞</h2>

    <form method="post">
        {% csrf_token %}
        {{ form.as_p }}
        <button type="submit" class="checkout-btn">–ü–æ—Ä—ä—á–∞–π</button>
    </form>
</div>

<script>
    // –§—É–Ω–∫—Ü–∏—è, –∫–æ—è—Ç–æ —â–µ –ø–æ–∫–∞–∑–≤–∞ –∏–ª–∏ —Å–∫—Ä–∏–≤–∞ –ø–æ–ª–µ—Ç–∞—Ç–∞ –∑–∞ –∞–¥—Ä–µ—Å–∏—Ç–µ
    function toggleAddressFields() {
        const deliveryType = document.getElementById('id_delivery_type'); // –ü–æ–ª—É—á–∞–≤–∞–º–µ –∏–∑–±–æ—Ä–∞ –Ω–∞ —Ç–∏–ø –¥–æ—Å—Ç–∞–≤–∫–∞
        const deliveryAddressField = document.getElementById('id_delivery_address'); // –ü–æ–ª–µ –∑–∞ –∞–¥—Ä–µ—Å –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞
        const officeAddressField = document.getElementById('id_office_address'); // –ü–æ–ª–µ –∑–∞ –∞–¥—Ä–µ—Å –Ω–∞ –æ—Ñ–∏—Å –Ω–∞ –∫—É—Ä–∏–µ—Ä

        // –°–∫—Ä–∏–≤–∞–º–µ –∏ –¥–≤–µ—Ç–µ –ø–æ–ª–µ—Ç–∞ –ø—ä—Ä–≤–æ–Ω–∞—á–∞–ª–Ω–æ
        deliveryAddressField.parentElement.style.display = 'none';
        officeAddressField.parentElement.style.display = 'none';

        if (deliveryType.value === 'home') {
            // –ê–∫–æ –µ –∏–∑–±—Ä–∞–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –∞–¥—Ä–µ—Å, –ø–æ–∫–∞–∑–≤–∞–º–µ —Å–∞–º–æ –∞–¥—Ä–µ—Å–∞ –∑–∞ –¥–æ—Å—Ç–∞–≤–∫–∞
            deliveryAddressField.parentElement.style.display = 'block';
        } else if (deliveryType.value === 'office') {
            // –ê–∫–æ –µ –∏–∑–±—Ä–∞–Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞ –¥–æ –æ—Ñ–∏—Å, –ø–æ–∫–∞–∑–≤–∞–º–µ —Å–∞–º–æ –∞–¥—Ä–µ—Å–∞ –Ω–∞ –æ—Ñ–∏—Å –Ω–∞ –∫—É—Ä–∏–µ—Ä
            officeAddressField.parentElement.style.display = 'block';
        }
    }

    // –ò–∑–≤–∏–∫–≤–∞–º–µ —Ñ—É–Ω–∫—Ü–∏—è—Ç–∞ –ø—Ä–∏ –∑–∞—Ä–µ–∂–¥–∞–Ω–µ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–∞—Ç–∞
    document.addEventListener('DOMContentLoaded', function() {
        toggleAddressFields();
    });

    // –î–æ–±–∞–≤—è–º–µ —Å–ª—É—à–∞—Ç–µ–ª –Ω–∞ —Å—ä–±–∏—Ç–∏–µ –∑–∞ –ø—Ä–æ–º—è–Ω–∞ –Ω–∞ –∏–∑–±–æ—Ä–∞ –Ω–∞ –¥–æ—Å—Ç–∞–≤–∫–∞
    document.getElementById('id_delivery_type').addEventListener('change', toggleAddressFields);
</script>

<style>
.checkout-container {
    max-width: 480px;
    margin: 40px auto;
    padding: 30px 25px;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
    font-family: 'Segoe UI', sans-serif;
    background-color: #fdfdfe;
}

.checkout-container h2 {
    text-align: center;
    margin-bottom: 25px;
    color: #2c3e50;
}

.checkout-container .form-group {
    margin-bottom: 20px;
}

.checkout-container .form-label {
    display: block;
    margin-bottom: 5px;
    color: #34495e;
    font-weight: 500;
}

.checkout-container input,
.checkout-container select {
    width: 100%;
    padding: 10px 12px;
    border-radius: 8px;
    border: 1px solid #ccd6dd;
    background-color: #ffffff;
    box-shadow: inset 0 1px 2px rgba(0, 0, 0, 0.05);
    transition: border-color 0.3s ease;
}

.checkout-container input:focus,
.checkout-container select:focus {
    border-color: #f5a7c3;
    outline: none;
}

.checkout-container .form-error {
    color: #e74c3c;
    font-size: 13px;
}

.checkout-btn {
    width: 100%;
    background-color: #f5a7c3; /* Barbie pink üíï */
    color: #fff;
    font-weight: 600;
    border: none;
    border-radius: 12px;
    padding: 12px 0;
    font-size: 16px;
    cursor: pointer;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    transition: all 0.3s ease;
}

.checkout-btn:hover {
    background-color: #ff4da6;
    box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    transform: translateY(-2px);
}
</style>
{% endblock %}
